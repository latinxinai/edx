!function(e,n){for(var t in n)e[t]=n[t]}(window,webpackJsonp([44],{"./openedx/features/announcements/static/announcements/jsx/Announcements.jsx":function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"AnnouncementsView",function(){return g}),t.d(n,"AnnouncementList",function(){return y}),t.d(n,"AnnouncementSkipLink",function(){return _});var s=t("./node_modules/react/index.js"),u=t.n(s),i=t("./node_modules/react-dom/index.js"),c=t.n(i),l=t("./node_modules/prop-types/index.js"),p=t.n(l),m=t("./node_modules/@edx/paragon/themeable/index.js"),f=(t.n(m),t(0)),d=t.n(f),h=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),_=function(e){function n(e){a(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={count:0},d.a.get("/announcements/page/1").then(function(e){t.setState({count:e.count})}),t}return r(n,e),h(n,[{key:"render",value:function(){return u.a.createElement("div",null,"Skip to list of "+this.state.count+" announcements")}}]),n}(u.a.Component),v=function(e){function n(){return a(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),h(n,[{key:"render",value:function(){return u.a.createElement("div",{className:"announcement",dangerouslySetInnerHTML:{__html:this.props.content}})}}]),n}(u.a.Component);v.propTypes={content:p.a.string.isRequired};var y=function(e){function n(e){a(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={page:1,announcements:[],num_pages:0,has_prev:!1,has_next:!1,start_index:0,end_index:0},t}return r(n,e),h(n,[{key:"retrievePage",value:function(e){var n=this;d.a.get("/announcements/page/"+e).then(function(t){n.setState({announcements:t.announcements,has_next:t.next,has_prev:t.prev,num_pages:t.num_pages,count:t.count,start_index:t.start_index,end_index:t.end_index,page:e})})}},{key:"renderPrevPage",value:function(){this.retrievePage(this.state.page-1)}},{key:"renderNextPage",value:function(){this.retrievePage(this.state.page+1)}},{key:"componentWillMount",value:function(){this.retrievePage(this.state.page)}},{key:"render",value:function(){var e=this,n=this.state.announcements.map(function(e,n){return u.a.createElement(v,{key:n,content:e.content})});if(this.state.has_prev)var t=u.a.createElement("div",null,u.a.createElement(m.Button,{className:["announcement-button","prev"],onClick:function(){return e.renderPrevPage()},label:"← previous"}),u.a.createElement("span",{className:"sr-only"},this.state.start_index+" - "+this.state.end_index+") of "+this.state.count));if(this.state.has_next)var a=u.a.createElement("div",null,u.a.createElement(m.Button,{className:["announcement-button","next"],onClick:function(){return e.renderNextPage()},label:"next →"}),u.a.createElement("span",{className:"sr-only"},this.state.start_index+" - "+this.state.end_index+") of "+this.state.count));return u.a.createElement("div",{className:"announcements-list"},n,t,a)}}]),n}(u.a.Component),g=function e(){a(this,e),c.a.render(u.a.createElement(y,null),document.getElementById("announcements")),c.a.render(u.a.createElement(_,null),document.getElementById("announcements-skip"))};n.default=g}},["./openedx/features/announcements/static/announcements/jsx/Announcements.jsx"]));